<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <style>
        @font-face {
            font-family: 'TWK';
            src: url('twk.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }
        body {
            font-family: 'TWK', sans-serif;
        }
        .payment-method-btn.active {
            background-color: rgb(41, 141, 255);
            color: white;
        }
        .payment-method-btn {
            background-color: rgb(243, 244, 246);
            color: rgb(17, 24, 39);
        }
    </style>
</head>
<body class="min-h-screen bg-white">

    <nav class="fixed top-0 left-0 right-0 z-50 flex justify-center pt-[14px] px-[14px]">
        <div class="flex items-center justify-between px-[14px] w-full" style="max-width: 1251.58px; height: 56.9922px; background-color: #131518;">
            <a href="index.html" class="flex items-center gap-3">
                <img src="logo.svg" alt="Logo" class="h-10">
                <span class="text-white text-[14px]">Click Mentorship</span>
            </a>
            <a href="index.html#plans" class="text-white text-[14px] hover:text-gray-300 transition-colors">Mentorship Plans</a>
        </div>
    </nav>

    <main class="min-h-[100svh] pt-28 px-5 md:px-[14px] pb-16">
        <div class="w-full mx-auto" style="max-width: 900px;">
            <div class="p-6 md:p-8" style="background-color: #ffffff; border: 1px solid rgb(229, 231, 235);">
                <div id="paymentForm">
                    <div class="mb-8">
                        <h1 class="text-black" style="font-size: 46.7554px; line-height: 46.7554px; letter-spacing: -1.87022px;">Complete your payment</h1>
                        <p class="mt-4" style="font-size: 16.0669px; line-height: 20.887px; letter-spacing: -0.160669px; color: rgb(108, 117, 132);">Choose a payment method below. Your selected plan will be shown automatically.</p>
                    </div>

                    <div class="p-4 md:p-6" style="background-color: rgb(243, 244, 246);">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                            <div>
                                <p class="text-black" style="font-size: 14px;">Selected plan</p>
                                <p id="selectedPlan" class="text-black" style="font-size: 24px; line-height: 28px; letter-spacing: -0.5px;">—</p>
                            </div>
                            <div>
                                <p class="text-black" style="font-size: 14px;">Amount</p>
                                <p id="selectedAmount" class="text-black" style="font-size: 24px; line-height: 28px; letter-spacing: -0.5px;">—</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <div class="flex gap-3">
                            <button id="cryptoBtn" class="payment-method-btn payment-method-btn w-full py-3 transition-all" style="font-size: 14px;" onclick="selectPaymentMethod('crypto')">Crypto</button>
                            <button id="paypalBtn" class="payment-method-btn payment-method-btn w-full py-3 transition-all" style="font-size: 14px;" onclick="selectPaymentMethod('paypal')">PayPal</button>
                        </div>

                        <div id="cryptoSection" class="mt-6">
                            <div class="p-4 md:p-6" style="background-color: rgb(243, 244, 246);">
                                <div class="flex flex-col md:flex-row gap-6">
                                    <div class="md:w-1/2">
                                        <p class="text-black mb-3" style="font-size: 14px;">Select crypto</p>
                                        <select id="cryptoSelect" class="w-full p-3 text-black" style="background-color: #ffffff; border: 1px solid rgb(229, 231, 235); font-size: 14px;" onchange="onCryptoChange()">
                                            <option value="" selected disabled>Select crypto</option>
                                            <option value="btc">Bitcoin (BTC)</option>
                                            <option value="usdc_erc20">USDC (ERC20)</option>
                                            <option value="usdc_solana">USDC (Solana)</option>
                                            <option value="usdt_trc20">USDT (TRC20)</option>
                                            <option value="usdt_erc20">USDT (ERC20)</option>
                                            <option value="usdt_bep20">USDT (BEP20)</option>
                                            <option value="eth">Ethereum (ETH)</option>
                                            <option value="sol">Solana (SOL)</option>
                                        </select>

                                        <div class="mt-6">
                                            <p class="text-black mb-2" style="font-size: 14px;">Address</p>
                                            <div class="p-4" style="background-color: #ffffff; border: 1px solid rgb(229, 231, 235);">
                                                <p id="cryptoAddress" class="break-all" style="font-size: 14px; line-height: 18px; color: rgb(108, 117, 132);"></p>
                                            </div>
                                            <button class="mt-3 w-full text-white py-3 transition-all" style="background-color: rgb(41, 141, 255); font-size: 14px;" onclick="copyCryptoAddress()">Copy address</button>
                                        </div>
                                    </div>

                                    <div class="md:w-1/2">
                                        <p class="text-black mb-3" style="font-size: 14px;">QR code</p>
                                        <div class="p-6 flex items-center justify-center" style="background-color: #ffffff; border: 1px solid rgb(229, 231, 235);">
                                            <canvas id="qrCanvas" width="200" height="200"></canvas>
                                        </div>
                                        <p class="mt-3" style="font-size: 12px; color: rgb(108, 117, 132);">Scan to copy the address in your wallet.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="paypalSection" class="mt-6" style="display: none;">
                            <div class="p-4 md:p-6" style="background-color: rgb(243, 244, 246);">
                                <p class="text-black" style="font-size: 14px;">PayPal (Friends &amp; Family only)</p>
                                <div class="mt-3 p-4" style="background-color: #ffffff; border: 1px solid rgb(229, 231, 235);">
                                    <p class="break-all" style="font-size: 14px; line-height: 18px; color: rgb(108, 117, 132);">Megmack32@gmail.com</p>
                                    <p class="mt-2" style="font-size: 14px; line-height: 18px; color: rgb(108, 117, 132);">@megmack39</p>
                                </div>
                                <button class="mt-3 w-full text-white py-3 transition-all" style="background-color: rgb(41, 141, 255); font-size: 14px;" onclick="copyPaypal()">Copy PayPal details</button>
                            </div>
                        </div>

                        <div class="mt-8">
                            <button class="w-full text-white py-4 transition-all" style="background-color: rgb(255, 108, 61); font-size: 16px;" onclick="showConfirmation()">I have paid</button>
                        </div>
                    </div>
                </div>

                <div id="confirmationView" style="display: none;">
                    <h2 class="text-black" style="font-size: 46.7554px; line-height: 46.7554px; letter-spacing: -1.87022px;">Payment submitted</h2>
                    <p class="mt-4" style="font-size: 16.0669px; line-height: 20.887px; letter-spacing: -0.160669px; color: rgb(108, 117, 132);">Please email your payment receipt to:</p>
                    <div class="mt-4 p-4" style="background-color: rgb(243, 244, 246);">
                        <p class="text-black break-all" style="font-size: 14px;">pay@clickmentorshiptrading.com</p>
                    </div>
                    <div class="mt-8 flex flex-col md:flex-row gap-3">
                        <a href="mailto:pay@clickmentorshiptrading.com" class="w-full text-white py-3 transition-all flex items-center justify-center" style="background-color: rgb(41, 141, 255); font-size: 14px;">Email receipt</a>
                        <a href="index.html" class="w-full text-black py-3 transition-all flex items-center justify-center" style="background-color: rgb(243, 244, 246); font-size: 14px;">Back to site</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const PLAN_MAP = {
            silver: { label: 'Silver - 1 Month', amount: '$150' },
            gold: { label: 'Gold - 3 Months', amount: '$350' },
            platinum: { label: 'Platinum - 6 Months', amount: '$700' },
            diamond: { label: 'Diamond - Yearly', amount: '$1050' },
            elite: { label: 'Elite - Lifetime', amount: '$1400' }
        };

        const CRYPTO_MAP = {
            btc: { label: 'Bitcoin (BTC)', address: 'bc1q9ctsml2vfzpnzrhrgpw3lakanww0py5rufnyp6' },
            usdc_erc20: { label: 'USDC (ERC20)', address: '0x227DC5eE41093bd2eB31412E093b29C026417154' },
            usdc_solana: { label: 'USDC (Solana)', address: 'EeByDe8gcpX8UavEzqnrBdMgY5ZUu2veBXH19P2uEWV5' },
            usdt_trc20: { label: 'USDT (TRC20)', address: 'TZ43HZMTK8ji8m9C7QkjmXU52Cp3E5ArPC' },
            usdt_erc20: { label: 'USDT (ERC20)', address: '0x227DC5eE41093bd2eB31412E093b29C026417154' },
            usdt_bep20: { label: 'USDT (BEP20)', address: '0x227DC5eE41093bd2eB31412E093b29C026417154' },
            eth: { label: 'Ethereum (ETH)', address: '0x227DC5eE41093bd2eB31412E093b29C026417154' },
            sol: { label: 'Solana (SOL)', address: 'EeByDe8gcpX8UavEzqnrBdMgY5ZUu2veBXH19P2uEWV5' }
        };

        function getQueryParam(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name);
        }

        function setSelectedPlan() {
            const planParam = (getQueryParam('plan') || '').toLowerCase();
            const plan = PLAN_MAP[planParam];

            const planEl = document.getElementById('selectedPlan');
            const amountEl = document.getElementById('selectedAmount');

            if (plan) {
                planEl.textContent = plan.label;
                amountEl.textContent = plan.amount;
                return;
            }

            planEl.textContent = 'Select a plan from the plans page';
            amountEl.textContent = '—';
        }

        function selectPaymentMethod(method) {
            const cryptoBtn = document.getElementById('cryptoBtn');
            const paypalBtn = document.getElementById('paypalBtn');
            const cryptoSection = document.getElementById('cryptoSection');
            const paypalSection = document.getElementById('paypalSection');

            if (method === 'crypto') {
                cryptoBtn.classList.add('active');
                paypalBtn.classList.remove('active');
                cryptoSection.style.display = 'block';
                paypalSection.style.display = 'none';
                onCryptoChange();
                return;
            }

            cryptoBtn.classList.remove('active');
            paypalBtn.classList.add('active');
            cryptoSection.style.display = 'none';
            paypalSection.style.display = 'block';
        }

        function onCryptoChange() {
            const key = document.getElementById('cryptoSelect').value;
            const data = CRYPTO_MAP[key];
            const address = data ? data.address : '';

            const addressEl = document.getElementById('cryptoAddress');
            addressEl.textContent = address;

            const canvas = document.getElementById('qrCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (!address) return;

            try {
                if (typeof QRCode === 'undefined' || !QRCode || typeof QRCode.toCanvas !== 'function') {
                    return;
                }
                QRCode.toCanvas(canvas, address, { width: 200, margin: 1 }, function () {});
            } catch (e) {
                return;
            }
        }

        async function copyText(text) {
            try {
                await navigator.clipboard.writeText(text);
                return true;
            } catch (e) {
                const ta = document.createElement('textarea');
                ta.value = text;
                ta.style.position = 'fixed';
                ta.style.opacity = '0';
                document.body.appendChild(ta);
                ta.select();
                try {
                    document.execCommand('copy');
                    document.body.removeChild(ta);
                    return true;
                } catch (err) {
                    document.body.removeChild(ta);
                    return false;
                }
            }
        }

        function copyCryptoAddress() {
            const key = document.getElementById('cryptoSelect').value;
            const data = CRYPTO_MAP[key];
            if (!data) return;
            copyText(data.address);
        }

        function copyPaypal() {
            copyText('Megmack32@gmail.com\n@megmack39\nFriends & Family only');
        }

        function showConfirmation() {
            const paymentForm = document.getElementById('paymentForm');
            const confirmationView = document.getElementById('confirmationView');
            paymentForm.style.display = 'none';
            confirmationView.style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        setSelectedPlan();
        selectPaymentMethod('crypto');
    </script>
</body>
</html>
